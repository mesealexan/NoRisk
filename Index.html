<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>title</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="vendor/three.min.js"></script>
    <script src="vendor/DDSLoader.js"></script>
    <script src="vendor/OrbitControls.js"></script>
    <script src="js/functions.js"></script>
    <script src="js/client.js"></script>
    <script src="js/server/Player.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    <link rel=stylesheet href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />

  <div id="infoBox" title="No Risk No Fun MF">

      <form > <br>
          Name: <input type="text" name="name" id="pln">             
          Color: <input type="color" name='playerCol' id="plc">
          <input type="button" value="Submit" onclick="enableReady()" >
      </form>

      <div id="tableMain">
      <table style="width:100%">
          <tr>
            <th>Player Name</th>
            <th>Player Color</th> 
            <th>Status</th>
          </tr>
      </table>
      </div>

      <input type="button" value="READY!" id="readyButton" disabled> 
    </div>


  </head>
  <body onload="initWorld();">
    <div id="background"></div>
    <div id="ThreeJS" style="position: absolute; left:0px; top:0px" ></div>
    
    <script type="text/javascript">
var counter = 0;

function enableReady(){
  document.getElementById("readyButton").disabled = false;
  loginConnect();
}

function removePlayer(playerName){
var div = document.getElementById(playerName);
if (div) 
    div.parentNode.removeChild(div);

}

function injectPlayer(name, color, status){

  var main = document.getElementById("tableMain")

  var tbl=document.createElement('table');
  tbl.id = name.toString();
  console.log( tbl.id )
    tbl.setAttribute('border','1');
    tbl.style.width='100%';
  var tbdy=document.createElement('tbody');

  var tr=document.createElement('tr');

  var tdName=document.createElement('td');
    tdName.innerHTML =name;
    tdName.style.width='40%';

  var tdColor=document.createElement('td');
    tdColor.innerHTML ="";
    tdColor.style.background = color;
    tdColor.style.width='27%';

  var tdStatus=document.createElement('td');
    tdStatus.innerHTML =status;
    tdStatus.style.textAlign="center"

  tr.appendChild(tdName);
  tr.appendChild(tdColor);
  tr.appendChild(tdStatus);

  tbdy.appendChild(tr);
  tbl.appendChild(tbdy);
  main.appendChild(tbl);
  counter++
}

$(function() 
{
   $("#infoBox").css( {"background":"rgba(255,255,255,1)"}).dialog({ autoOpen: true,resizable: false, width: 600,  height: 350, show: { effect: 'fade', duration: 500 }, hide: { effect: 'fade', duration: 500 }  });
  
});
    function login(){
        document.getElementById("login").style.display = 'none';
    }
    </script>
  </body>
</html>


